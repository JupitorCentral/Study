## JSP 웹 프로그래밍

### Chapter 10 클라이언트와의 대화 2 : 세션

세션을 사용하면 클라이언트의 상태를 저장할 수 있는데, 쿠키와 다른 점은 
값을 클라이언트의 메모리나 하드디스크에 저장하는 것이 아니라 서버에 저장한다는 점.


JSP는 브라우저마다 세션을 생성한다.
예를 들어 브라우저 A,B 가 있고 jsp 파일 1,2 가 있을때
A 가 jsp 파일 1, 2 를 실행하고, B 도 마찬가지로 jsp 파일 1,2 를 실행한다 하더라도
서버에서는 브라우저 A, 브라우저 B 에 대한 세션만 가지고 있지 페이지에 따라 가지고 있지 않는다.

세션 ID -> 웹브라우저마다 가지고 있는 세션의 고유 ID

웹서버는 쿠키를 통해 웹브라우저와 세션 iD 를 공유함.


세션은 최근 접근 시간을 갖는다.
jsp 에서 session 기본 객체를 사용할때마다 이 시간이 갱신됨.
웹브라우저에서 jsp 페이지를 실행할 때마다 이 session 객체에 접근. (최근 접근 시간 갱신)

세션은 마지막 접근 이후 일정 시간동안 접근하지 않으면 자동으로 세션을 종료하는 기능을 가지고 있음.
(세션 유효 시간)

세션 객체가 지워지지 않으면 memory 부족 현상이 생기므로
반드시 timeout 을 걸어주어야 함.


#### 세션을 사용한 로그인 상태 유지

1. 로그인에 성공하면 session 기본객체의 특정 속성에 데이터 기록
2. 이후 session 기본 객체에 1번에서 추가한 특정 속성이 존재하는 경우 로그인 한 것으로 간주
3. 로그아웃 할경우 session.invalidate() 메서드를 호출하여 세션을 종료



#### 서블릿 컨텍스트와 세션

톰캣 webapps 에 새로운 폴더 하나 생성 (localhost:8080/chap10, localhost:8080/chap10_2)
동일한 페이지 조회 -> viewCookies.jsp

각 jsp 파일을 2번 실행하면
처음에는 JSessionID 가 없으므로 출력안됨
2번째 실행시 JSESSIONID 가 출력되나,

chap10 아래 viewCookies.jsp 파일을 실행(브라우저에서 접속)한 JSESSIONID 과 
chap10 아래 viewCookies.jsp 파일을 실행(브라우저에서 접속)한 JSESSIONID 가 다르다.

-> 이는, 두 경로가 서로 다른 웹 어플리케이션이기 때문.
세션 ID 를 보관할때 사용할 JESSIONID 쿠키의 경로로 웹 어플리케이션의 컨텍스트 경로를 사용함.

웹 어플리케이션의 컨텍스트 경로가 /chap10 이면, 세션을 위한 JSESSIONID 쿠키의 경로도 /chap10 이 됨.
쿠키의 경로는 /chap10 일떄 /chap10 또는 그 하위의 경로에 접근시에만 쿠키를 전송하므로,
/chap10 어플리케이션 에서는 경로가 /chap10 로 설정되어있는 JSESSIONID 만 사용함.

즉 /chap10 와 /chap_02 는 세션을 공유하지 않는다.




### Chapter 14 데이터베이스 프로그래밍 기초


#### 데이터베이스와 DBMS

데이터베이스 -> 데이터가 저장되는 공간
DBMS -> DataBase Management System -> 데이터베이스를 관리하는 시스템 -> Oracle, MySql, Postgresql







## RDBMS vs NoSQL

### RDBMS

데이터가 테이블 형식 - 즉 row, column 기반의 정형화된 구조로 데이터를 저장하는 DB 종류
데이터의 구조가 미리 정의되어 있고 (schema), SQL (Structured Query Language) 로 데이터를 조회 삽입 수정 삭제함
ACID 원칙 (Atomicity, Consistency, Isolation, Durability) 를 지켜 복잡한 트랜잭션 처리와 데이터 무결성을 보장

#### ACID principle

##### Atomicity


##### Consistency


##### Isolation


##### Durability


### NoSQL (Not Only SQL)

데이터를 전통적인 방식이 아닌 구조 (Document, Key-Value 형태 등)조로 데이터를 저장

메인 메모리에 데이터를 저장, 필요할떄만 디스크에 저장

#### 대표적인 구조

##### Document-based

##### key-value

##### Wide-column

##### Graph


#### 왜 NoSql 이 필요해졌는지 ?


